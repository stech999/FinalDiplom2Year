{% extends "base.html" %}
{% load static humanize %}
{% block search_result %}

{% if query %}
<div class="catalog_box_search">Результаты поиска для "{{ query }}" {{ result_count }} товара</div>
{% endif %}

<div class="catalog_box">
    <div id="products-list" class="products-container">
        {% if results %}
        {% for item in results %}
        {% if item.class_name == "Snowboards" %}
        <a href="{% url 'snowboard' item.object.pk %}">
            <div class="item_box">
                <div class="item_box_img">
                    {% if item.object.img %}
                    <img src="{{ item.object.img.url }}" alt="{{ item.object.title }}" class="box_img">
                    {% else %}
                    <p>Картинки еще не загружены</p>
                    {% endif %}

                    {% if item.object.price_discount %}
                    <div class="item_box_discount">-{{ item.object.price_discount }}%</div>
                    {% endif %}
                </div>

                <div class="item_box_info">
                    <div class="item_box_info_title">{{ item.object.title }}</div>
                    <div class="item_box_title">
                        {% if item.object.price_discount %}
                        <p class="item_box_info_old_price">
                            {{ item.object.formatted_price }} ₽
                        </p>
                        <p class="item_box_info_price">
                            <b>{{ item.object.formatted_discounted_price }} ₽</b>
                        </p>
                        {% else %}
                        <p class="item_box_info_price_noSale">
                            <b>{{ item.object.formatted_price }} ₽</b>
                        </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </a>
        {% elif item.class_name == "Skis" %}
        <a href="{% url 'ski' item.object.pk %}">
            <div class="item_box">
                <div class="item_box_img">
                    {% if item.object.img %}
                    <img src="{{ item.object.img.url }}" alt="{{ item.object.title }}" class="box_img">
                    {% else %}
                    <p>Картинки еще не загружены</p>
                    {% endif %}

                    {% if item.object.price_discount %}
                    <div class="item_box_discount">-{{ item.object.price_discount }}%</div>
                    {% endif %}
                </div>

                <div class="item_box_info">
                    <div class="item_box_info_title">{{ item.object.title }}</div>
                    <div class="item_box_title">
                        {% if item.object.price_discount %}
                        <p class="item_box_info_old_price">
                            {{ item.object.formatted_price }} ₽
                        </p>
                        <p class="item_box_info_price">
                            <b>{{ item.object.formatted_discounted_price }} ₽</b>
                        </p>
                        {% else %}
                        <p class="item_box_info_price_noSale">
                            <b>{{ item.object.formatted_price }} ₽</b>
                        </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </a>
        {% elif item.class_name == "Skateboards" %}
        <a href="{% url 'skateboard' item.object.pk %}">
            <div class="item_box">
                <div class="item_box_img">
                    {% if item.object.img %}
                    <img src="{{ item.object.img.url }}" alt="{{ item.object.title }}" class="box_img">
                    {% else %}
                    <p>Картинки еще не загружены</p>
                    {% endif %}

                    {% if item.object.price_discount %}
                    <div class="item_box_discount">-{{ item.object.price_discount }}%</div>
                    {% endif %}
                </div>

                <div class="item_box_info">
                    <div class="item_box_info_title">{{ item.object.title }}</div>
                    <div class="item_box_title">
                        {% if item.object.price_discount %}
                        <p class="item_box_info_old_price">
                            {{ item.object.formatted_price }} ₽
                        </p>
                        <p class="item_box_info_price">
                            <b>{{ item.object.formatted_discounted_price }} ₽</b>
                        </p>
                        {% else %}
                        <p class="item_box_info_price_noSale">
                            <b>{{ item.object.formatted_price }} ₽</b>
                        </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </a>
        {% elif item.class_name == "Longboards" %}
        <a href="{% url 'longboard' item.object.pk %}">
            <div class="item_box">
                <div class="item_box_img">
                    {% if item.object.img %}
                    <img src="{{ item.object.img.url }}" alt="{{ item.object.title }}" class="box_img">
                    {% else %}
                    <p>Картинки еще не загружены</p>
                    {% endif %}

                    {% if item.object.price_discount %}
                    <div class="item_box_discount">-{{ item.object.price_discount }}%</div>
                    {% endif %}
                </div>

                <div class="item_box_info">
                    <div class="item_box_info_title">{{ item.object.title }}</div>
                    <div class="item_box_title">
                        {% if item.object.price_discount %}
                        <p class="item_box_info_old_price">
                            {{ item.object.formatted_price }} ₽
                        </p>
                        <p class="item_box_info_price">
                            <b>{{ item.object.formatted_discounted_price }} ₽</b>
                        </p>
                        {% else %}
                        <p class="item_box_info_price_noSale">
                            <b>{{ item.object.formatted_price }} ₽</b>
                        </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </a>
        {% elif item.class_name == "Surfings" %}
        <a href="{% url 'surfing' item.object.pk %}">
            <div class="item_box">
                <div class="item_box_img">
                    {% if item.object.img %}
                    <img src="{{ item.object.img.url }}" alt="{{ item.object.title }}" class="box_img">
                    {% else %}
                    <p>Картинки еще не загружены</p>
                    {% endif %}

                    {% if item.object.price_discount %}
                    <div class="item_box_discount">-{{ item.object.price_discount }}%</div>
                    {% endif %}
                </div>

                <div class="item_box_info">
                    <div class="item_box_info_title">{{ item.object.title }}</div>
                    <div class="item_box_title">
                        {% if item.object.price_discount %}
                        <p class="item_box_info_old_price">
                            {{ item.object.formatted_price }} ₽
                        </p>
                        <p class="item_box_info_price">
                            <b>{{ item.object.formatted_discounted_price }} ₽</b>
                        </p>
                        {% else %}
                        <p class="item_box_info_price_noSale">
                            <b>{{ item.object.formatted_price }} ₽</b>
                        </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </a>
        {% elif item.class_name == "Sups" %}
        <a href="{% url 'sup' item.object.pk %}">
            <div class="item_box">
                <div class="item_box_img">
                    {% if item.object.img %}
                    <img src="{{ item.object.img.url }}" alt="{{ item.object.title }}" class="box_img">
                    {% else %}
                    <p>Картинки еще не загружены</p>
                    {% endif %}

                    {% if item.object.price_discount %}
                    <div class="item_box_discount">-{{ item.object.price_discount }}%</div>
                    {% endif %}
                </div>

                <div class="item_box_info">
                    <div class="item_box_info_title">{{ item.object.title }}</div>
                    <div class="item_box_title">
                        {% if item.object.price_discount %}
                        <p class="item_box_info_old_price">
                            {{ item.object.formatted_price }} ₽
                        </p>
                        <p class="item_box_info_price">
                            <b>{{ item.object.formatted_discounted_price }} ₽</b>
                        </p>
                        {% else %}
                        <p class="item_box_info_price_noSale">
                            <b>{{ item.object.formatted_price }} ₽</b>
                        </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </a>
        {% elif item.class_name == "Clothes" %}
        <a href="{% url 'clothe' item.object.pk %}">
            <div class="item_box">
                <div class="item_box_img">
                    {% if item.object.img %}
                    <img src="{{ item.object.img.url }}" alt="{{ item.object.title }}" class="box_img">
                    {% else %}
                    <p>Картинки еще не загружены</p>
                    {% endif %}

                    {% if item.object.price_discount %}
                    <div class="item_box_discount">-{{ item.object.price_discount }}%</div>
                    {% endif %}
                </div>

                <div class="item_box_info">
                    <div class="item_box_info_title">{{ item.object.title }}</div>
                    <div class="item_box_title">
                        {% if item.object.price_discount %}
                        <p class="item_box_info_old_price">
                            {{ item.object.formatted_price }} ₽
                        </p>
                        <p class="item_box_info_price">
                            <b>{{ item.object.formatted_discounted_price }} ₽</b>
                        </p>
                        {% else %}
                        <p class="item_box_info_price_noSale">
                            <b>{{ item.object.formatted_price }} ₽</b>
                        </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </a>
        {% elif item.class_name == "Shoes" %}
        <a href="{% url 'shoe' item.object.pk %}">
            <div class="item_box">
                <div class="item_box_img">
                    {% if item.object.img %}
                    <img src="{{ item.object.img.url }}" alt="{{ item.object.title }}" class="box_img">
                    {% else %}
                    <p>Картинки еще не загружены</p>
                    {% endif %}

                    {% if item.object.price_discount %}
                    <div class="item_box_discount">-{{ item.object.price_discount }}%</div>
                    {% endif %}
                </div>

                <div class="item_box_info">
                    <div class="item_box_info_title">{{ item.object.title }}</div>
                    <div class="item_box_title">
                        {% if item.object.price_discount %}
                        <p class="item_box_info_old_price">
                            {{ item.object.formatted_price }} ₽
                        </p>
                        <p class="item_box_info_price">
                            <b>{{ item.object.formatted_discounted_price }} ₽</b>
                        </p>
                        {% else %}
                        <p class="item_box_info_price_noSale">
                            <b>{{ item.object.formatted_price }} ₽</b>
                        </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </a>
        {% elif item.class_name == "Accessories" %}
        <a href="{% url 'accessorie' item.object.pk %}">
            <div class="item_box">
                <div class="item_box_img">
                    {% if item.object.img %}
                    <img src="{{ item.object.img.url }}" alt="{{ item.object.title }}" class="box_img">
                    {% else %}
                    <p>Картинки еще не загружены</p>
                    {% endif %}

                    {% if item.object.price_discount %}
                    <div class="item_box_discount">-{{ item.object.price_discount }}%</div>
                    {% endif %}
                </div>

                <div class="item_box_info">
                    <div class="item_box_info_title">{{ item.object.title }}</div>
                    <div class="item_box_title">
                        {% if item.object.price_discount %}
                        <p class="item_box_info_old_price">
                            {{ item.object.formatted_price }} ₽
                        </p>
                        <p class="item_box_info_price">
                            <b>{{ item.object.formatted_discounted_price }} ₽</b>
                        </p>
                        {% else %}
                        <p class="item_box_info_price_noSale">
                            <b>{{ item.object.formatted_price }} ₽</b>
                        </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </a>
        {% endif %}
        {% endfor %}
        {% else %}
        {% if query %}
        <p>Ничего не найдено по запросу "{{ query }}".</p>
        {% else %}
        <p>Введите поисковый запрос, чтобы увидеть результаты.</p>
        {% endif %}
        {% endif %}
    </div>
</div>
{% endblock %}